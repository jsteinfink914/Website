##Importing necessary libraries
library(selectr)
library(rvest)
library(xml2)
##Scraping hoopsyhype.com for 2020 player salaries 
##Using read_html and html_table to create the dataframe
SalariesDF<-as.data.frame(read_html('https://hoopshype.com/salaries/players/2020-2021/')%>%html_table(fill=TRUE))
##Writing dataframe to a csv file
write.csv(SalariesDF,'2020salaries.csv',row.names = FALSE)


##Using https://www.basketball-reference.com/contracts/salary-cap-history.html and the provided option to get the table in html format
##Copying the provided html table into variable 'Text'
Text<-'<div class="sr_share_wrap" style="overflow:auto">
  <table class="sr_share" id="" data-cols-to-freeze=",1" style="border-collapse: collapse; font-size:.83em; border: 1px sold #aaa; overflow:auto;"><thead></thead>
  <caption>Salary Cap History Table</caption>
  <tbody>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_1985.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">1984-85</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$3,600,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$9,083,539</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_1986.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">1985-86</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$4,233,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$10,479,694</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_1987.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">1986-87</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$4,945,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$11,812,089</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_1988.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">1987-88</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$6,164,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$14,143,899</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_1989.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">1988-89</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$7,232,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$15,832,740</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_1990.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">1989-90</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$9,802,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$20,360,496</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_1991.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">1990-91</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$11,871,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$23,652,090</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_1992.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">1991-92</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$12,500,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$24,172,990</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_1993.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">1992-93</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$14,000,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$26,300,391</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_1994.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">1993-94</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$15,175,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$27,784,491</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_1995.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">1994-95</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$15,964,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$28,431,190</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_1996.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">1995-96</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$23,000,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$39,797,368</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_1997.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">1996-97</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$24,363,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$41,185,792</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_1998.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">1997-98</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$26,900,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$44,787,566</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_1999.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">1998-99</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$30,000,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$48,871,354</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_2000.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">1999-00</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$34,000,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$53,578,743</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_2001.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">2000-01</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$35,500,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$54,407,536</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_2002.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">2001-02</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$42,500,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$64,123,496</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_2003.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">2002-03</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$40,271,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$59,408,466</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_2004.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">2003-04</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$43,840,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$62,987,174</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_2005.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">2004-05</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$43,870,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$60,957,548</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_2006.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">2005-06</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$49,500,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$66,634,615</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_2007.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">2006-07</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$53,135,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$69,541,955</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_2008.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">2007-08</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$55,630,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$70,117,874</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_2009.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">2008-09</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$58,680,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$74,226,058</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_2010.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">2009-10</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$57,700,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$71,805,814</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_2011.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">2010-11</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$58,044,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$70,022,014</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_2012.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">2011-12</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$58,044,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$68,611,221</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_2013.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">2012-13</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$58,044,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$67,621,260</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_2014.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">2013-14</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$58,679,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$67,265,567</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_2015.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">2014-15</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$63,065,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$72,202,032</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_2016.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">2015-16</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$70,000,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$79,141,827</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_2017.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">2016-17</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$94,143,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$104,227,011</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_2018.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">2017-18</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$99,093,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$107,090,301</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_2019.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">2018-19</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$101,869,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$108,127,254</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_2020.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">2019-20</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$109,140,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$114,444,734</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_2021.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">2020-21</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$109,140,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$109,140,000</td></tr>
  <tr><th scope="row" style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "><a href="https://www.basketball-reference.com/leagues/NBA_2022.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">2021-22</a></th><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; ">$112,414,000</td><td style="border: 1px solid #ccc; padding: 2px 3px 2px 2px; white-space: nowrap; "></td></tr>
  </tbody></table><div id="credit_salary_cap_history" class="sr_share" style="font-size: 0.83em;">Provided by <a href="https://www.sports-reference.com/sharing.html?utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool">Basketball-Reference.com</a>: <a href="https://www.basketball-reference.com/contracts/salary-cap-history.html?sr&amp;utm_source=direct&amp;utm_medium=Share&amp;utm_campaign=ShareTool#salary_cap_history">View Original Table</a><br>Generated 9/11/2021.</div>'
##Converting the html table into dataframe and writing to a csv file.
SalaryCap<-as.data.frame(read_html(Text)%>%html_table(fill=TRUE))
write.csv(SalaryCap,'SalaryCap.csv')
